.message {
    $arrowSize: 12px;

    padding: 5px 15px 10px;       
    margin-bottom: 5px + $arrowSize;
    border-radius: 5px;

    flex-shrink: 0;
    position: relative;
    filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.7));

    min-width: 60px;
    max-width: 70%;
    white-space: pre-line;
    word-break: break-all;

    &::selection {
        background-color: #f7ca16;
        color: black;
    }   

    &.self {
        $color: rgb(32, 32, 32);
        $borderColor: rgba(0, 0, 0, 0.5);

        background-color: $color;
        border: 1px solid $borderColor;

        align-self: flex-end;

        &:before,
        &:after {
            content: "";
            box-sizing: border-box;
            position: absolute;
        }

        &:before {
            width: $arrowSize;
            height: $arrowSize;
            border-style: solid;
            border-width: $arrowSize 0 0 $arrowSize;
            border-color: $borderColor transparent;
            right: 15px;
            bottom: -$arrowSize;
        }
        &:after {
            border: $arrowSize / 2 + 1px solid;
            width: $arrowSize - 2px;
            height: $arrowSize - 2px;
            border-color: $color $color transparent transparent;
            right: 15px + 1px;
            bottom: -$arrowSize + 2px;
        }
    }

    &.income {
        $color: rgb(42, 42, 42);
        $borderColor: rgba(0, 0, 0, 0.5);

        background-color: $color;
        align-self: flex-start;
        border: 1px solid $borderColor;

        &:before,
        &:after {
            content: "";
            box-sizing: border-box;
            position: absolute;
        }

        &:before {
            border-style: solid;
            border-width: $arrowSize $arrowSize 0 0;
            border-color: $borderColor transparent;
            left: 15px;
            bottom: -$arrowSize;
        }
        &:after {
            border: $arrowSize / 2 + 1px solid;
            width: $arrowSize - 2px;
            height: $arrowSize - 2px;
            border-color: $color transparent transparent $color;
            left: 15px + 1px;
            bottom: -$arrowSize + 2px;
        }
    }
}
